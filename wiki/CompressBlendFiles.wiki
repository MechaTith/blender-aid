#labels Phase-Design
There are 3 kind of blend files.
 # uncompressed blend files
 # compressed blend files
 # packed blend files.

compressed blend files are GZ variants of the uncompressed version. These files are commonly used to reduce needed space for Source control.

Within blender you can change this by File ==> Compressed

= Compress files =
This feature will find all not compressed blend files
and make tasks to compress them

= Functional questions =
== Is there somewhere inside the blender data model a place where this is administered? ==
when compressing a blend file by hand, the file is read correctly, but in the menu the file is not marked as compressed. I assume that somewhere in the model, an attribute tells blender if the file was originally compressed.
 # start blender
 # save blend file
 # tar blend file (tar file.blend)
 # rename blend file (mv file.blend.gz file.compressed.blend)
 # open blend file with blender
 # menu --> file --> Compressed = false (should be true)

next part to inspect:

{{{
FileGlobal --> fileflags & G_FILE_COMPRESS

./blender/blenkernel/.svn/text-base/BKE_global.h.svn-base:#define G_FILE_COMPRESS          (1 << 1)
./blender/blenkernel/BKE_global.h:#define G_FILE_COMPRESS          (1 << 1)
./blender/blenloader/intern/writefile.c:		if(write_flags & G_FILE_COMPRESS)
./blender/blenloader/intern/.svn/text-base/writefile.c.svn-base:		if(write_flags & G_FILE_COMPRESS)
./blender/windowmanager/intern/wm_files.c:	if(compress) writeflags |= G_FILE_COMPRESS;
./blender/windowmanager/intern/wm_files.c:	else writeflags &= ~G_FILE_COMPRESS;
./blender/windowmanager/intern/wm_files.c:		if(compress) G.fileflags |= G_FILE_COMPRESS;
./blender/windowmanager/intern/wm_files.c:		else G.fileflags &= ~G_FILE_COMPRESS;
./blender/windowmanager/intern/wm_files.c:	write_flags = G.fileflags & ~(G_FILE_COMPRESS | G_FILE_LOCK | G_FILE_SIGN);
./blender/windowmanager/intern/wm_files.c:	write_flags = G.fileflags & ~(G_FILE_COMPRESS | G_FILE_LOCK | G_FILE_SIGN);
./blender/windowmanager/intern/wm_operators.c:			RNA_boolean_set(op->ptr, "compress", G.fileflags & G_FILE_COMPRESS);
./blender/windowmanager/intern/.svn/text-base/wm_operators.c.svn-base:			RNA_boolean_set(op->ptr, "compress", G.fileflags & G_FILE_COMPRESS);
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:	if(compress) writeflags |= G_FILE_COMPRESS;
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:	else writeflags &= ~G_FILE_COMPRESS;
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:		if(compress) G.fileflags |= G_FILE_COMPRESS;
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:		else G.fileflags &= ~G_FILE_COMPRESS;
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:	write_flags = G.fileflags & ~(G_FILE_COMPRESS | G_FILE_LOCK | G_FILE_SIGN);
./blender/windowmanager/intern/.svn/text-base/wm_files.c.svn-base:	write_flags = G.fileflags & ~(G_FILE_COMPRESS | G_FILE_LOCK | G_FILE_SIGN);

}}}
= Impact = 
 * blendfile.py ==> add write int method
 * production.html ==> add UI to start compression
 * servicerefactoring.py ==> add logic to do the refactoring
 * indexer.py ==> selector to find all uncompressed files and index by FileGlobal.fileflags
 * update user manual
 * update web site
 * create testcase